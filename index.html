<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Chancerain - 小而美的Blog</title><meta name="author" content="Chancerain"><meta name="copyright" content="Chancerain"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta property="og:type" content="website">
<meta property="og:title" content="Chancerain">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Chancerain">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/favicon.png">
<meta property="article:author" content="Chancerain">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/favicon.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"prismjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"top-right"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Chancerain',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2022-03-02 22:31:38'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.0.0"><link rel="alternate" href="/atom.xml" title="Chancerain" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/favicon.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">66</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">13</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">19</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://s3.bmp.ovh/imgs/2022/02/b886ca56f1e0d2af.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Chancerain</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">Chancerain</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/Chancerain" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="/379627193@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2022/03/01/%E5%9D%97%E7%BA%A7%E6%A0%BC%E5%BC%8F%E5%8C%96%E4%B8%8A%E4%B8%8B%E6%96%87-BFC/" title="块级格式化上下文 BFC"><img class="post_bg" src="https://www.oxfordwebstudio.com/user/pages/06.da-li-znate/sta-je-css/sta-je-css.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="块级格式化上下文 BFC"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/03/01/%E5%9D%97%E7%BA%A7%E6%A0%BC%E5%BC%8F%E5%8C%96%E4%B8%8A%E4%B8%8B%E6%96%87-BFC/" title="块级格式化上下文 BFC">块级格式化上下文 BFC</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-03-01T14:11:32.000Z" title="发表于 2022-03-01 22:11:32">2022-03-01</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/CSS/">CSS</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/CSS/">CSS</a></span></div><div class="content">BFC到底是什么东西BFC 全称：Block Formatting Context， 名为 “块级格式化上下文”。
W3C官方解释为：BFC它决定了元素如何对其内容进行定位，以及与其它元素的关系和相互作用，当涉及到可视化布局时，Block Formatting Context提供了一个环境，HTML在这个环境中按照一定的规则进行布局。
简单来说就是，BFC是一个完全独立的空间（布局环境），让空间里的子元素不会影响到外面的布局。那么怎么使用BFC呢，BFC可以看做是一个CSS元素属性
怎样触发BFC
overflow: hidden
display: inline-block
position: absolute
position: fixed
display: table-cell
display: flex

BFC的规则
BFC就是一个块级元素，块级元素会在垂直方向一个接一个的排列
BFC就是页面中的一个隔离的独立容器，容器里的标签不会影响到外部标签
垂直方向的距离由margin决定， 属于同一个BFC的两个相邻的标签外边距会发生重叠
计算BFC的高度时，浮动元素也参与计算

BF ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/02/26/09-Flex%E5%B8%83%E5%B1%80/" title="09 Flex布局"><img class="post_bg" src="https://www.oxfordwebstudio.com/user/pages/06.da-li-znate/sta-je-css/sta-je-css.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="09 Flex布局"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/02/26/09-Flex%E5%B8%83%E5%B1%80/" title="09 Flex布局">09 Flex布局</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-02-26T13:03:53.000Z" title="发表于 2022-02-26 21:03:53">2022-02-26</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/CSS/">CSS</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/CSS/">CSS</a></span></div><div class="content">主轴和侧轴
主轴：flex容器的主轴，默认是水平方向，从左向右。
侧轴：与主轴垂直的轴称作侧轴，默认是垂直方向，从上往下。

主轴和侧轴并不是固定不变的，可以通过 flex-direction 更换方向
弹性盒子使用 display:flex 或 display:inline-flex 声明一个父容器为弹性盒子。此时，这个父容器里的子元素们，会遵循弹性布局。
备注：一般是用 display:flex这个属性。display:inline-flex用得较少。
flex-direction 属性flex-direction：用于设置盒子中子元素的排列方向。属性值可以是：



属性值
描述



row
从左到右水平排列子元素（默认值）


column
从上到下垂直排列子元素


row-reverse
从右向左排列子元素


column-reverse
从下到上垂直排列子元素


flex-wrap 属性flex-wrap：控制子元素溢出时的换行处理。
justify-content 属性justify-content：控制子元素在主轴上的排列方式。
弹性元素justify-cont ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/02/26/08-CSS3/" title="08 CSS3"><img class="post_bg" src="https://www.oxfordwebstudio.com/user/pages/06.da-li-znate/sta-je-css/sta-je-css.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="08 CSS3"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/02/26/08-CSS3/" title="08 CSS3">08 CSS3</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-02-26T12:49:26.000Z" title="发表于 2022-02-26 20:49:26">2022-02-26</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/CSS/">CSS</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/CSS/">CSS</a></span></div><div class="content">文本text-shadow：设置文本的阴影text-shadow: 20px 27px 22px pink;

参数解释：水平位移 垂直位移 模糊程度 阴影颜色。
盒模型中的 box-sizing 属性CSS3 对盒模型做出了新的定义，即允许开发人员指定盒子宽度和高度的计算方式。
这就需要用到 box-sizing属性。它的属性值可以是：content-box、border-box。解释如下。
外加模式：（css的默认方式）box-sizing: content-box;

解释：此时设置的 width 和 height 是内容区域的宽高。盒子的实际宽度 = 设置的 width + padding + border。此时改变 padding 和 border 的大小，也不会改变内容的宽高，而是盒子的总宽高发生变化。
内减模式：【需要注意】box-sizing: border-box;

解释：此时设置的 width 和 height 是盒子的总宽高。盒子的实际宽度 = 设置的 width。此时改变 padding 和 border 的大小，会改变内容的宽高，盒子的总宽高不变。
处理兼容 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/02/26/MySQL/" title="MySQL"><img class="post_bg" src="https://static001.infoq.cn/resource/image/65/ee/6556d7d24e01380cc6ba581f50e0e1ee.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MySQL"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/02/26/MySQL/" title="MySQL">MySQL</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-02-26T08:14:00.000Z" title="发表于 2022-02-26 16:14:00">2022-02-26</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/">MySQL</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Database/">Database</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/MySQL/">MySQL</a></span></div><div class="content"></div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/02/26/08-%E8%BA%AB%E4%BB%BD%E8%AE%A4%E8%AF%81/" title="08 身份认证"><img class="post_bg" src="https://uploads-ssl.webflow.com/60d29cc33f302e8be91cf0e2/60e828d815c1ffbc7ee86743_5da911dbd21c06c44f5791b6_Nodejs-blog-feature-img.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="08 身份认证"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/02/26/08-%E8%BA%AB%E4%BB%BD%E8%AE%A4%E8%AF%81/" title="08 身份认证">08 身份认证</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-02-26T07:46:11.000Z" title="发表于 2022-02-26 15:46:11">2022-02-26</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Node-js/">Node.js</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/JavaScript/">JavaScript</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/Node-js/">Node.js</a></span></div><div class="content">Web 开发模式服务端渲染的优缺点优点： 

前端耗时少。因为服务器端负责动态生成 HTML 内容，浏览器只需要直接渲染页面即可。尤其是移动端，更省电。
有利于SEO。因为服务器端响应的是完整的 HTML 页面内容，所以爬虫更容易爬取获得信息，更有利于 SEO。

缺点： 

占用服务器端资源。即服务器端完成 HTML 页面内容的拼接，如果请求较多，会对服务器造成一定的访问压力。
不利于前后端分离，开发效率低。使用服务器端渲染，则无法进行分工合作，尤其对于前端复杂度高的项目，不利于 项目高效开发。

前后端分离的优缺点优点： 

开发体验好。前端专注于 UI 页面的开发，后端专注于api 的开发，且前端有更多的选择性。
用户体验好。Ajax 技术的广泛应用，极大的提高了用户的体验，可以轻松实现页面的局部刷新。
减轻了服务器端的渲染压力。因为页面最终是在每个用户的浏览器中生成的。

缺点：
不利于 SEO。因为完整的 HTML 页面需要在客户端动态拼接完成，所以爬虫对无法爬取页面的有效信息。（解决方 案：利用 Vue、React 等前端框架的 SSR （server side rende ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/02/26/07-%E6%95%B0%E6%8D%AE%E5%BA%93/" title="07 数据库"><img class="post_bg" src="https://uploads-ssl.webflow.com/60d29cc33f302e8be91cf0e2/60e828d815c1ffbc7ee86743_5da911dbd21c06c44f5791b6_Nodejs-blog-feature-img.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="07 数据库"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/02/26/07-%E6%95%B0%E6%8D%AE%E5%BA%93/" title="07 数据库">07 数据库</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-02-26T06:49:48.000Z" title="发表于 2022-02-26 14:49:48">2022-02-26</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Node-js/">Node.js</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/JavaScript/">JavaScript</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/Node-js/">Node.js</a></span></div><div class="content">在项目中操作数据库的步骤
安装操作 MySQL 数据库的第三方模块（mysql） 
通过 mysql 模块连接到 MySQL 数据库
通过 mysql 模块执行 SQL 语句


安装与配置 mysql 模块安装 mysql 模块mysql 模块是托管于 npm 上的第三方模块。它提供了在 Node.js 项目中连接和操作 MySQL 数据库的能力。 想要在项目中使用它，需要先运行如下命令，将 mysql 安装为项目的依赖包：
npm install mysql

配置 mysql 模块在使用 mysql 模块操作 MySQL 数据库之前，必须先对 mysql 模块进行必要的配置，主要的配置步骤如下：
//导入mysql模块
const mysql = require('mysql')
//建立与MySQL数据库的连接
const db = mysql.createPool(&#123;
  host: '127.0.0.1',
  user: 'root',
  password: 'admin123',
  database: 'my_db_01'
&#125;)

测试 mysq ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/02/26/06-%E4%BD%BF%E7%94%A8Express%E5%86%99%E6%8E%A5%E5%8F%A3/" title="06 使用Express写接口"><img class="post_bg" src="https://uploads-ssl.webflow.com/60d29cc33f302e8be91cf0e2/60e828d815c1ffbc7ee86743_5da911dbd21c06c44f5791b6_Nodejs-blog-feature-img.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="06 使用Express写接口"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/02/26/06-%E4%BD%BF%E7%94%A8Express%E5%86%99%E6%8E%A5%E5%8F%A3/" title="06 使用Express写接口">06 使用Express写接口</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-02-26T06:33:00.000Z" title="发表于 2022-02-26 14:33:00">2022-02-26</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Node-js/">Node.js</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/JavaScript/">JavaScript</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/Node-js/">Node.js</a></span></div><div class="content">创建基本的服务器//导入express模块
const express = require('express')
//创建express服务器实例
const app = express()



app.listen(80, () => &#123;
	console.log('Express server running at http://127.0.0.1')
&#125;)

创建API路由模块//apiRouter.js 路由模块
const express = require('express')
const apiRouter = express.Router()

//bind your router here...

module.exports = apiRouter

//=========================

//app.js 导入并注册路由模块
const apiRouter = require('./apiRouter.js')
app.use('/api', apiRouter)

编写 GET 接口apiRouter.get('/get' ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/02/26/05-Express%E4%B8%AD%E9%97%B4%E4%BB%B6/" title="05 Express中间件"><img class="post_bg" src="https://uploads-ssl.webflow.com/60d29cc33f302e8be91cf0e2/60e828d815c1ffbc7ee86743_5da911dbd21c06c44f5791b6_Nodejs-blog-feature-img.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="05 Express中间件"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/02/26/05-Express%E4%B8%AD%E9%97%B4%E4%BB%B6/" title="05 Express中间件">05 Express中间件</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-02-26T05:38:49.000Z" title="发表于 2022-02-26 13:38:49">2022-02-26</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Node-js/">Node.js</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/JavaScript/">JavaScript</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/Node-js/">Node.js</a></span></div><div class="content">中间件的概念中间件（Middleware ），特指业务流程的中间处理环节。
Express 中间件的调用流程当一个请求到达 Express 的服务器之后，可以连续调用多个中间件，从而对这次请求进行预处理。

Express 中间件的格式
Express 中间件的初体验定义中间件函数//常量mw所指向的，就是一个中间件函数
const mw = (req, res, next) => &#123;
  console.log('这是一个简单的中间件函数')
  
  next()
&#125;

全局生效的中间件客户端发起的任何请求，到达服务器之后，都会触发的中间件，叫做全局生效的中间件
//常量mw所指向的，就是一个中间件函数
const mw = (req, res, next) => &#123;
  console.log('这是一个简单的中间件函数')
  next()
&#125;

//全局生效的中间件
app.use(mw)

定义全局中间件的简化形式app.use((req, res, next) => &#123;
		console.log('这是一个简单的中间件函 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/02/25/04-Express%E8%B7%AF%E7%94%B1/" title="04 Express路由"><img class="post_bg" src="https://uploads-ssl.webflow.com/60d29cc33f302e8be91cf0e2/60e828d815c1ffbc7ee86743_5da911dbd21c06c44f5791b6_Nodejs-blog-feature-img.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="04 Express路由"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/02/25/04-Express%E8%B7%AF%E7%94%B1/" title="04 Express路由">04 Express路由</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-02-25T13:45:40.000Z" title="发表于 2022-02-25 21:45:40">2022-02-25</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Node-js/">Node.js</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/JavaScript/">JavaScript</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/Node-js/">Node.js</a></span></div><div class="content">路由的概念在 Express 中，路由指的是客户端的请求与服务器处理函数之间的映射关系。 Express 中的路由分 3 部分组成，分别是请求的类型、请求的 URL 地址、处理函数，格式如下
app.get('/', (req, res) => &#123;
  res.send('Hello World')
&#125;)

app.post('/', (req, res) => &#123;
  res.send('Hello World')
&#125;)

路由的匹配过程每当一个请求到达服务器之后，需要先经过路由的匹配，只有匹配成功之后，才会调用对应的处理函数。 在匹配时，会按照路由的顺序进行匹配，如果请求类型和请求的 URL 同时匹配成功，则 Express 会将这次请求，转 交给对应的 function 函数进行处理。

路由匹配的注意点： 

按照定义的先后顺序进行匹配 
请求类型和请求的URL同时匹配成功， 才会调用对应的处理函数

路由的使用最简单的用法const express = require('express')
//创建web服务器，命名为app
const ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/02/25/03-Express%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/" title="03 Express的基本使用"><img class="post_bg" src="https://uploads-ssl.webflow.com/60d29cc33f302e8be91cf0e2/60e828d815c1ffbc7ee86743_5da911dbd21c06c44f5791b6_Nodejs-blog-feature-img.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="03 Express的基本使用"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/02/25/03-Express%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/" title="03 Express的基本使用">03 Express的基本使用</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-02-25T13:20:05.000Z" title="发表于 2022-02-25 21:20:05">2022-02-25</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Node-js/">Node.js</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/JavaScript/">JavaScript</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/Node-js/">Node.js</a></span></div><div class="content">安装npm i express@4.17.1

创建基本的 Web 服务器//导入express
const express = require('express')
//创建web服务器
const app = express()

//调用 app.listen（端口号，启动成功后的回调函数），启动服务器
app.listen(80, () => &#123;
  console.log('express server running at http://127.0.0.1')
&#125;)

监听 GET 请求app.get('请求url', (req, res) => &#123;
&#125;)
//		req:请求对象（包含了与请求相关的属性和方法）
//		res:响应对象（包含了与请求相关的属性和方法）

监听 POST 请求app.post('请求url', (req, res) => &#123;
&#125;)
//		req:请求对象（包含了与请求相关的属性和方法）
//		res:响应对象（包含了与请求相关的属性和方法）

把内容响应给客户端app.get( ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/#content-inner">7</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/favicon.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Chancerain</div><div class="author-info__description">这个人很懒，什么也没有留下。</div></div><div class="card-info-data is-center"><div class="card-info-data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">66</div></a></div><div class="card-info-data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">13</div></a></div><div class="card-info-data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">19</div></a></div></div><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Chancerain" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="/379627193@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="sticky_layout"><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/CSS/"><span class="card-category-list-name">CSS</span><span class="card-category-list-count">10</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/HTML/"><span class="card-category-list-name">HTML</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item parent"><a class="card-category-list-link" href="/categories/JavaScript/"><span class="card-category-list-name">JavaScript</span><span class="card-category-list-count">22</span><i class="fas fa-caret-left "></i></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/JavaScript/ES6/"><span class="card-category-list-name">ES6</span><span class="card-category-list-count">4</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/JavaScript/JS%E5%9F%BA%E7%A1%80/"><span class="card-category-list-name">JS基础</span><span class="card-category-list-count">6</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/JavaScript/JS%E9%AB%98%E7%BA%A7/"><span class="card-category-list-name">JS高级</span><span class="card-category-list-count">7</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/JavaScript/Web-APIs/"><span class="card-category-list-name">Web APIs</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/JavaScript/%E6%9D%82/"><span class="card-category-list-name">杂</span><span class="card-category-list-count">2</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Node-js/"><span class="card-category-list-name">Node.js</span><span class="card-category-list-count">8</span></a></li><li class="card-category-list-item parent"><a class="card-category-list-link" href="/categories/Vue-js/"><span class="card-category-list-name">Vue.js</span><span class="card-category-list-count">13</span><i class="fas fa-caret-left "></i></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Vue-js/Vue%E5%9F%BA%E7%A1%80/"><span class="card-category-list-name">Vue基础</span><span class="card-category-list-count">7</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Vue-js/Vue%E6%8F%92%E4%BB%B6/"><span class="card-category-list-name">Vue插件</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Vue-js/Vue%E8%BF%9B%E9%98%B6/"><span class="card-category-list-name">Vue进阶</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Vue-js/%E7%BB%84%E4%BB%B6/"><span class="card-category-list-name">组件</span><span class="card-category-list-count">2</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/jQuery/"><span class="card-category-list-name">jQuery</span><span class="card-category-list-count">8</span></a></li><li class="card-category-list-item parent"><a class="card-category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"><span class="card-category-list-name">数据库</span><span class="card-category-list-count">1</span><i class="fas fa-caret-left "></i></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/"><span class="card-category-list-name">MySQL</span><span class="card-category-list-count">1</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%9D%82/"><span class="card-category-list-name">杂</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%BD%91%E7%BB%9C/"><span class="card-category-list-name">网络</span><span class="card-category-list-count">2</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/JavaScript/" style="font-size: 1.45em; color: rgb(65, 156, 173)">JavaScript</a><a href="/tags/Node-js/" style="font-size: 1.27em; color: rgb(36, 32, 158)">Node.js</a><a href="/tags/Vue-js/" style="font-size: 1.39em; color: rgb(79, 192, 99)">Vue.js</a><a href="/tags/CSS/" style="font-size: 1.33em; color: rgb(16, 148, 182)">CSS</a><a href="/tags/ES6/" style="font-size: 1.21em; color: rgb(50, 104, 15)">ES6</a><a href="/tags/Axios/" style="font-size: 1.15em; color: rgb(108, 36, 85)">Axios</a><a href="/tags/Ajax/" style="font-size: 1.15em; color: rgb(87, 119, 31)">Ajax</a><a href="/tags/Database/" style="font-size: 1.15em; color: rgb(149, 88, 55)">Database</a><a href="/tags/MySQL/" style="font-size: 1.15em; color: rgb(60, 120, 20)">MySQL</a><a href="/tags/HTML/" style="font-size: 1.15em; color: rgb(68, 111, 15)">HTML</a><a href="/tags/Git/" style="font-size: 1.15em; color: rgb(16, 63, 117)">Git</a><a href="/tags/jQuery/" style="font-size: 1.27em; color: rgb(136, 60, 39)">jQuery</a><a href="/tags/HTTP/" style="font-size: 1.15em; color: rgb(138, 88, 88)">HTTP</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/03/"><span class="card-archive-list-date">三月 2022</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/02/"><span class="card-archive-list-date">二月 2022</span><span class="card-archive-list-count">65</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">66</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2022-02-09T16:00:00.000Z"></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">45.2k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2022-03-02T14:31:38.771Z"></div></div></div></div></div></div></main><footer id="footer" style="background: rgba(0,0,255,.1)"><div id="footer-wrap"><div class="copyright">&copy;2022 By Chancerain</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"></div><div id="rightside-config-show"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">本地搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function subtitleType () {
  if (true) { 
    window.typed = new Typed("#subtitle", {
      strings: ["计算机里没有黑魔法","JavaScript是世界上最好的语言"],
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50
    })
  } else {
    document.getElementById("subtitle").innerHTML = '计算机里没有黑魔法'
  }
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
  }
} else {
  subtitleType()
}</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>